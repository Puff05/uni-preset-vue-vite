<template>
	<div class="summary-container">
		<!-- é¡¶éƒ¨å¯¼èˆª -->
		<header class="summary-header">
			<button class="back-btn" @click="goBack">
				<i class="icon-arrow-left"></i>
			</button>
			<h3 class="summary-title">å­¦ä¹ æ€»ç»“</h3>
			<div class="header-right"></div>
		</header>

		<!-- å­¦ä¹ å†…å®¹æ€»ç»“ -->
		<div class="summary-content">
			<!-- å­¦ä¹ è¿›åº¦å¡ç‰‡ -->
			<div class="progress-card">
				<h4>ğŸ‰ å­¦ä¹ å®Œæˆ</h4>
				<div class="progress-info">
					<p>æœ¬æ¬¡å­¦ä¹ å†…å®¹ï¼š{{ contentType }} - {{ contentName }}</p>
					<p v-if="type === 'sentence'">é€‰ä¸­ä¾‹å¥ï¼šä¾‹å¥ {{ sentenceId }}</p>
					<p>å®Œæˆæ—¶é—´ï¼š{{ currentTime }}</p>
				</div>
			</div>

			<!-- å­¦ä¹ å†…å®¹è¯¦æƒ… -->
			<div class="content-card">
				<h4>ğŸ“š å­¦ä¹ å†…å®¹è¯¦æƒ…</h4>
				<div v-if="type === 'chunk' || type === 'sentence'" class="dialogue-section">
					<h5>ğŸ’¬ ç›¸å…³å¯¹è¯</h5>
					<div class="dialogue-content">
						<p v-for="(line, idx) in dialogueContent.split('\n')" :key="idx" class="dialogue-line">
							<span v-if="line.startsWith('A:')" >{{ line }}</span>
							<span v-else-if="line.startsWith('B:')" >{{ line }}</span>
							<span v-else class="dialogue-line">{{ line }}</span>
						</p>
					</div>
				</div>
			</div>


			<!-- ç»§ç»­å­¦ä¹ æŒ‰é’® -->
			<div class="continue-section">
				<button class="continue-btn" @click="continueLearning">ç»§ç»­å­¦ä¹ </button>
			</div>
		</div>
	</div>
</template>

<script setup>
import { ref, computed} from 'vue';
import { onLoad } from '@dcloudio/uni-app';

// æ•°æ®çŠ¶æ€
const type = ref('');
const id = ref('');
const name = ref('');
const sentenceId = ref('1'); // æ–°å¢ï¼šæ¥æ”¶é€‰ä¸­çš„ä¾‹å¥IDï¼Œé»˜è®¤1
const videoList = ref([]);
const currentTime = ref('');
const dialogueContent = ref('');

// è¡¨è¾¾è¯­å—å¯¹è¯å†…å®¹æ˜ å°„è¡¨ï¼ˆä¿æŒä¸å˜ï¼‰
const chunkDialogueMap = {
	'1': 'Aï¼šå¿«è¿›æ¥ï¼ç»™ä½ çœ‹ä¸ªå¥½ä¸œè¥¿ã€‚\nBï¼šå•¥å‘€ï¼Ÿè¿™ä¹ˆç¥ç§˜ã€‚\nAï¼šçœ‹çœ‹æˆ‘çš„å®¿èˆï¼Œçœ‹çœ‹è¿™å¨æˆ¿!\nBï¼šå“‡ï¼Œå¨æˆ¿å¥½å¹²å‡€å•Šï¼\nAï¼šä»¥åå’±èƒ½ä¸€èµ·åšé¥­å•¦ã€‚',
	'2': 'A: ä½ æ¥è‡ªå“ªé‡Œï¼Ÿ\nB: æˆ‘æ¥è‡ªä¸­å›½åŒ—æ–¹ã€‚\nA: æ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„å›¢é˜Ÿï¼',
	'3': 'A: ä½ æœ‰ä»€ä¹ˆæŠ€èƒ½å¯ä»¥å±•ç¤ºä¸€ä¸‹å—ï¼Ÿ\nB: æˆ‘çš„æ‰‹æœºå¯ä»¥ç”¨æ¥åšç›´æ’­ï¼Œå±•ç¤ºäº§å“ã€‚\nA: å¤ªæ£’äº†ï¼Œè¿™æ­£æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼',
	'4': 'A: ä½ å·¥ä½œæ€åº¦æ€ä¹ˆæ ·ï¼Ÿ\nB: æˆ‘åšäº‹æƒ…è¿™ä¹ˆè®¤çœŸï¼Œä¸€å®šä¼šæŠŠä»»åŠ¡å®Œæˆå¥½ã€‚\nA: æˆ‘å°±å–œæ¬¢ä½ è¿™ç§è®¤çœŸè´Ÿè´£çš„æ€åº¦ã€‚',
	'5': 'A: ä½ æœ‰æ•™å­¦ç»éªŒå—ï¼Ÿ\nB: æˆ‘ç‰¹åˆ«å–œæ¬¢æ•™å°æœ‹å‹å­¦ä¹ ï¼Œå¾ˆæœ‰è€å¿ƒã€‚\nA: è¿™å¯¹æˆ‘ä»¬çš„æ•™è‚²é¡¹ç›®å¾ˆæœ‰å¸®åŠ©ã€‚',
	'6': 'A: ä½ è§‰å¾—è¿™ä¸ªé¡¹ç›®è¿›åº¦å¦‚ä½•ï¼Ÿ\nB: æˆ‘è§‰å¾—èµ°å¾—å¤ªå¿«äº†ï¼Œæˆ‘ä»¬åº”è¯¥å¤šè€ƒè™‘ä¸€äº›ç»†èŠ‚ã€‚\nA: ä½ è¯´å¾—å¯¹ï¼Œæˆ‘ä»¬éœ€è¦æ›´åŠ è°¨æ…ã€‚',
	'7': 'A: ä½ èƒ½å¸®æˆ‘å®Œæˆè¿™ä¸ªä»»åŠ¡å—ï¼Ÿ\nB: å½“ç„¶å¯ä»¥ï¼Œæˆ‘å¾ˆä¹æ„å¸®å¿™ã€‚\nA: è°¢è°¢ä½ çš„æ”¯æŒï¼',
	'8': 'A: æˆ‘ä»¬éœ€è¦ä¸ºæ–°ç”Ÿåšäº›ä»€ä¹ˆï¼Ÿ\nB: æˆ‘å»ºè®®ä¸¾åŠä¸€ä¸ªè¿æ–°æ™šä¼šï¼Œè®©å¤§å®¶äº’ç›¸è®¤è¯†ã€‚\nA: è¿™æ˜¯ä¸ªå¥½ä¸»æ„ï¼',
	'9': 'A: æ™šä¼šéœ€è¦å‡†å¤‡ä»€ä¹ˆï¼Ÿ\nB: æˆ‘å¯ä»¥å‡ºä¸€ä¸ªèŠ‚ç›®ï¼Œå±•ç¤ºæˆ‘ä»¬çš„æ‰è‰ºã€‚\nA: æœŸå¾…ä½ çš„ç²¾å½©è¡¨æ¼”ï¼',
	'10': 'A: ä½ å¯¹è¿™ä¸ªé¡¹ç›®æœ‰ä»€ä¹ˆè¦æ±‚ï¼Ÿ\nB: æˆ‘éœ€è¦ç²¾å‡†æ§åˆ¶æ¯ä¸ªç¯èŠ‚ï¼Œç¡®ä¿è´¨é‡ã€‚\nA: ä½ çš„ä¸“ä¸šæ€åº¦ä»¤äººå°è±¡æ·±åˆ»ã€‚',
	'11': 'A: è¿™ä¸ªæ–¹æ¡ˆæ€ä¹ˆæ ·ï¼Ÿ\nB: è¿™æ˜¯ä¸€ä¸ªæ­£ç¡®çš„é€‰æ‹©ï¼Œæˆ‘ä»¬åº”è¯¥é‡‡çº³ã€‚\nA: å¾ˆé«˜å…´æˆ‘ä»¬æ„è§ä¸€è‡´ã€‚',
	'12': 'A: è°æœ€é€‚åˆè¿™ä¸ªå²—ä½ï¼Ÿ\nB: ä»–æ˜¯æœ€åˆé€‚çš„äººé€‰ï¼Œæœ‰ä¸°å¯Œçš„ç»éªŒã€‚\nA: æˆ‘ç›¸ä¿¡ä½ çš„çœ¼å…‰ã€‚',
	'13': 'A: æˆ‘ä»¬éœ€è¦é€‰ä¸€ä¸ªä»£è¡¨ï¼Œä½ æ¨èè°ï¼Ÿ\nB: ä»–æ˜¯æœ€ä½³äººé€‰ï¼Œèƒ½å¤Ÿèƒœä»»è¿™ä¸ªè§’è‰²ã€‚\nA: å°±æŒ‰ä½ è¯´çš„åŠï¼',
	'14': 'A: æˆ‘ä»¬çš„æ´»åŠ¨è¦ä½“ç°ä»€ä¹ˆï¼Ÿ\nB: æˆ‘ä»¬è¦ä»£è¡¨ä¸­å›½é£è²Œï¼Œå±•ç°ä¼ ç»Ÿæ–‡åŒ–ã€‚\nA: è¿™ä¸ªå®šä½éå¸¸å¥½ã€‚',
	'15': 'A: ä½ è§‰å¾—è¿™ä¸ªå»ºè®®å¦‚ä½•ï¼Ÿ\nB: å¾ˆæœ‰é“ç†ï¼Œæˆ‘ä»¬åº”è¯¥è®¤çœŸè€ƒè™‘ã€‚\nA: é‚£å°±æŒ‰ç…§è¿™ä¸ªæ–¹å‘å»åšå§ã€‚',
	'16': 'A: æˆ‘ä»¬å¯ä»¥èŠä¸€èŠè¿™ä¸ªè¯é¢˜å—ï¼Ÿ\nB: å½“ç„¶å¯ä»¥ï¼ŒèŠä¸€èŠå¯ä»¥å¢è¿›äº†è§£ã€‚\nA: è°¢è°¢ä½ çš„åˆ†äº«ï¼'
};

// å…ƒå¥å‹å¥å¼å¯¹è¯å†…å®¹æ˜ å°„è¡¨ï¼ˆæ‰©å±•ä¸ºï¼šå¥å‹ID â†’ ä¾‹å¥ID â†’ å¯¹è¯ï¼‰
const sentenceDialogueMap = {
	// å¥å‹1ï¼ˆå¯¹åº”show.vueä¸­sentenceListçš„id=1ï¼š"çœ‹çœ‹â€¦â€¦"ï¼‰
	'1': {
		'1': 'Aï¼šå¿«è¿›æ¥ï¼ç»™ä½ çœ‹ä¸ªå¥½ä¸œè¥¿ã€‚\nBï¼šå•¥å‘€ï¼Ÿè¿™ä¹ˆç¥ç§˜ã€‚\nAï¼šçœ‹çœ‹æˆ‘çš„å®¿èˆï¼Œçœ‹çœ‹è¿™å¨æˆ¿!\nBï¼šå“‡ï¼Œå¨æˆ¿å¥½å¹²å‡€å•Šï¼\nAï¼šä»¥åå’±èƒ½ä¸€èµ·åšé¥­å•¦ã€‚',
		'2': 'Aï¼šæˆ‘æ–°ä¹°äº†ä¸€æœ¬ä¹¦ï¼Œç»™ä½ çœ‹çœ‹ã€‚\nBï¼šä»€ä¹ˆä¹¦å‘€ï¼Ÿ\nAï¼šçœ‹çœ‹è¿™å°é¢è®¾è®¡ï¼Œæ˜¯ä¸æ˜¯å¾ˆç‰¹åˆ«ï¼Ÿ\nBï¼šç¡®å®ä¸é”™ï¼Œå†…å®¹è®²ä»€ä¹ˆçš„ï¼Ÿ',
		'3': 'Aï¼šçœ‹çœ‹è¿™å¼ è€ç…§ç‰‡ï¼Œæ˜¯æˆ‘å°æ—¶å€™æ‹çš„ã€‚\nBï¼šå¥½å¯çˆ±å‘€ï¼è¿™æ˜¯åœ¨å“ªé‡Œæ‹çš„ï¼Ÿ\nAï¼šåœ¨æˆ‘è€å®¶çš„é™¢å­é‡Œï¼Œçœ‹çœ‹æˆ‘èº«åçš„å¤§æ ‘ã€‚',
		'4': 'Aï¼šçœ‹çœ‹è¿™ä¸ªæ–°åŠŸèƒ½ï¼Œç‰¹åˆ«å®ç”¨ã€‚\nBï¼šæ€ä¹ˆç”¨å‘€ï¼Ÿ\nAï¼šä½ ç‚¹ä¸€ä¸‹è¿™ä¸ªæŒ‰é’®ï¼Œçœ‹çœ‹æ•ˆæœå°±çŸ¥é“äº†ã€‚'
	},
	// å¥å‹2ï¼ˆå¯¹åº”show.vueä¸­sentenceListçš„id=2ï¼š"å¯æƒœâ€¦â€¦"ï¼‰
	'2': {
		'1': 'A: å¬è¯´ä½ æ²¡é€šè¿‡è€ƒè¯•ï¼Ÿ\nB: æ˜¯çš„ï¼Œå¤ªå¯æƒœäº†ã€‚\nA: åˆ«ç°å¿ƒï¼Œä¸‹æ¬¡ä¸€å®šèƒ½è¡Œã€‚',
		'2': 'A: ä»Šå¤©çš„æ¼”å”±ä¼šå–æ¶ˆäº†ã€‚\nB: çœŸå¯æƒœï¼Œæˆ‘æœŸå¾…äº†å¥½ä¹…ã€‚\nA: æ²¡å…³ç³»ï¼Œä»¥åè¿˜æœ‰æœºä¼šã€‚',
		'3': 'A: ä»–æœ¬æ¥èƒ½æ‹¿åˆ°å† å†›çš„ã€‚\nB: æ˜¯å‘€ï¼Œå¤ªå¯æƒœäº†ï¼Œæœ€åå¤±è¯¯äº†ã€‚\nA: å·²ç»å¾ˆå‰å®³äº†ã€‚',
		'4': 'A: è¿™ä¸ªæœºä¼šé”™è¿‡äº†å°±æ²¡æœ‰äº†ã€‚\nB: çœŸå¯æƒœï¼Œæˆ‘å½“æ—¶æ²¡æ¥å¾—åŠæŠ¥åã€‚'
	},
	// å¥å‹3ï¼ˆå¯¹åº”show.vueä¸­sentenceListçš„id=3ï¼š"å¤ªâ€¦â€¦äº†ï¼"ï¼‰
	'3': {
		'1': 'A: è¿™ä¸ªè¡¨æ¼”å¤ªç²¾å½©äº†ï¼\nB: æ˜¯å•Šï¼Œæ¼”å‘˜ä»¬å¤ªæ£’äº†ï¼\nA: è¿™ä¸ªèŠ‚ç›®å¤ªæœ‰è¶£äº†ï¼',
		'2': 'A: è¿™å®¶é¤å…çš„èœå¤ªå¥½åƒäº†ï¼\nB: ç¡®å®ä¸é”™ï¼Œå°¤å…¶æ˜¯è¿™ä¸ªé±¼é¦™è‚‰ä¸ã€‚\nA: åˆ†é‡ä¹Ÿå¤ªè¶³äº†ï¼Œæˆ‘ä»¬æ ¹æœ¬åƒä¸å®Œã€‚',
		'3': 'A: ä»Šå¤©çš„å¤©æ°”å¤ªå¥½äº†ï¼\nB: æ˜¯å•Šï¼Œé˜³å…‰æ˜åªšï¼Œé€‚åˆå‡ºå»ç©ã€‚\nA: è¿™ä¸ªå…¬å›­çš„é£æ™¯ä¹Ÿå¤ªç¾äº†ã€‚',
		'4': 'A: ä»–å¤ªå‰å®³äº†ï¼Œç«Ÿç„¶ä¸€æ¬¡æ€§é€šè¿‡äº†æ‰€æœ‰è€ƒè¯•ã€‚\nB: çœŸçš„å—ï¼Ÿå¤ªè®©äººä½©æœäº†ï¼'
	},
	// å¥å‹4ï¼ˆå¯¹åº”show.vueä¸­sentenceListçš„id=4ï¼š"å¾ˆé«˜å…´â€¦â€¦"ï¼‰
	'4': {
		'1': 'A: å¾ˆé«˜å…´è®¤è¯†ä½ ï¼\nB: æˆ‘ä¹Ÿå¾ˆé«˜å…´è®¤è¯†ä½ ã€‚\nA: å¾ˆé«˜å…´ä»Šå¤©èƒ½ä¸€èµ·å·¥ä½œã€‚',
		'2': 'A: å¾ˆé«˜å…´æ”¶åˆ°ä½ çš„ç¤¼ç‰©ã€‚\nB: ä¸å®¢æ°”ï¼Œå¸Œæœ›ä½ å–œæ¬¢ã€‚\nA: éå¸¸å–œæ¬¢ï¼Œæˆ‘å¾ˆé«˜å…´ä½ èƒ½è®°å¾—æˆ‘çš„å–œå¥½ã€‚',
		'3': 'A: å¾ˆé«˜å…´èƒ½å‚åŠ è¿™æ¬¡æ´»åŠ¨ã€‚\nB: æˆ‘ä¹Ÿæ˜¯ï¼Œè®¤è¯†äº†å¾ˆå¤šæ–°æœ‹å‹ã€‚\nA: å¾ˆé«˜å…´èƒ½å’Œä½ åˆ†åˆ°ä¸€ç»„ã€‚',
		'4': 'A: å¾ˆé«˜å…´ä½ èƒ½æ¥å‚åŠ æˆ‘çš„ç”Ÿæ—¥æ´¾å¯¹ã€‚\nB: ç”Ÿæ—¥å¿«ä¹ï¼æˆ‘å¾ˆé«˜å…´èƒ½æ¥ä¸ºä½ åº†ç¥ã€‚'
	},
	// å…¶ä»–å¥å‹ï¼ˆæŒ‰ç›¸åŒæ ¼å¼æ‰©å±•ï¼šå¥å‹ID â†’ ä¾‹å¥ID â†’ å¯¹è¯ï¼‰
	'5': {
		'1': 'A: æ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„å›¢é˜Ÿï¼\nB: è°¢è°¢ï¼Œæˆ‘å¾ˆæœŸå¾…ä¸å¤§å®¶åˆä½œã€‚\nA: æ¬¢è¿æ¥åˆ°æˆ‘ä»¬çš„åŸå¸‚ï¼',
		'2': 'A: æ¬¢è¿å…‰ä¸´æˆ‘ä»¬çš„åº—é“ºï¼\nB: è°¢è°¢ï¼Œæˆ‘æƒ³çœ‹çœ‹è¿™æ¬¾äº§å“ã€‚\nA: å¥½çš„ï¼Œæ¬¢è¿éšæ—¶å’¨è¯¢ã€‚',
		'3': 'A: æ¬¢è¿å‚åŠ æˆ‘ä»¬çš„ç ”è®¨ä¼šã€‚\nB: è°¢è°¢é‚€è¯·ï¼Œæˆ‘å¾ˆæœŸå¾…å­¦ä¹ æ–°å†…å®¹ã€‚',
		'4': 'A: æ¬¢è¿æ¥æˆ‘å®¶åšå®¢ï¼\nB: è°¢è°¢ï¼Œæ‰“æ‰°äº†ã€‚\nA: ä¸å®¢æ°”ï¼Œæ¬¢è¿å¸¸æ¥ã€‚'
	},
	'6': {
		'1': 'A: æˆ‘ä»¬å¯ä»¥ç”¨ä»€ä¹ˆæ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ\nB: æˆ‘ä»¬å¯ä»¥ç”¨æ•°æ®åˆ†ææ¥æ‰¾å‡ºåŸå› ã€‚\nA: æˆ‘ä»¬å¯ä»¥ç”¨å›¢é˜Ÿåˆä½œçš„æ–¹å¼å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚',
		'2': 'A: è¿™ä¸ªæ–‡ä»¶å¯ä»¥ç”¨æ‰‹æœºæ‰“å¼€å—ï¼Ÿ\nB: å¯ä»¥ï¼Œç”¨åŠå…¬è½¯ä»¶å°±èƒ½æ‰“å¼€ã€‚\nA: è¿˜å¯ä»¥ç”¨ä»€ä¹ˆè½¯ä»¶ç¼–è¾‘ï¼Ÿ',
		'3': 'A: æˆ‘ä»¬å¯ä»¥ç”¨è‹±è¯­äº¤æµå—ï¼Ÿ\nB: å½“ç„¶å¯ä»¥ï¼Œè¿™æ ·è¿˜èƒ½ç»ƒä¹ å£è¯­ã€‚\nA: é‡åˆ°ä¸æ‡‚çš„å¯ä»¥ç”¨ç¿»è¯‘è½¯ä»¶ã€‚',
		'4': 'A: è¿™ä¸ªé—®é¢˜å¯ä»¥ç”¨ä¸¤ç§æ–¹æ³•è§£å†³ã€‚\nB: å“ªç§æ–¹æ³•æ›´é«˜æ•ˆï¼Ÿ\nA: æˆ‘è§‰å¾—ç¬¬ä¸€ç§å¯ä»¥èŠ‚çœæ—¶é—´ã€‚'
	},
	'7': {
		'1': 'A: ä½ èƒ½ç»™æˆ‘ä¸€ä¸ªå»ºè®®å—ï¼Ÿ\nB: æˆ‘è®¤ä¸ºä½ åº”è¯¥å…ˆåšå¸‚åœºè°ƒç ”ã€‚\nA: æˆ‘è®¤ä¸ºè¿™ä¸ªæ–¹æ¡ˆéœ€è¦ä¿®æ”¹ã€‚',
		'2': 'A: ä½ è®¤ä¸ºè¿™ä¸ªé¡¹ç›®èƒ½æŒ‰æ—¶å®Œæˆå—ï¼Ÿ\nB: æˆ‘è®¤ä¸ºå¯ä»¥ï¼Œåªè¦å¤§å®¶é½å¿ƒååŠ›ã€‚\nA: æˆ‘ä¹Ÿè®¤ä¸ºé—®é¢˜ä¸å¤§ã€‚',
		'3': 'A: ä½ è®¤ä¸ºä»–ä¼šæ¥å—è¿™ä¸ªæè®®å—ï¼Ÿ\nB: æˆ‘è®¤ä¸ºä¼šï¼Œè¿™ä¸ªæè®®å¯¹ä»–ä¹Ÿæœ‰åˆ©ã€‚',
		'4': 'A: æˆ‘è®¤ä¸ºæˆ‘ä»¬åº”è¯¥æ”¹å˜ç­–ç•¥ã€‚\nB: ä¸ºä»€ä¹ˆè¿™ä¹ˆè®¤ä¸ºï¼Ÿ\nA: å› ä¸ºå½“å‰ç­–ç•¥æ•ˆæœä¸å¤ªç†æƒ³ã€‚'
	},
	'8': {
		'1': 'A: ä»–æœ‰ä»€ä¹ˆç‰¹é•¿ï¼Ÿ\nB: ä»–åœ¨è½¯ä»¶å¼€å‘æ–¹é¢å¾ˆæœ‰ç»éªŒã€‚\nA: å¥¹åœ¨æ¼”è®²æ–¹é¢å¾ˆæœ‰ç»éªŒã€‚',
		'2': 'A: ä½ åœ¨æ•™å­¦æ–¹é¢å¾ˆæœ‰ç»éªŒã€‚\nB: è°¢è°¢ï¼Œæˆ‘å·²ç»æ•™äº†åå¹´äº†ã€‚\nA: éš¾æ€ªè¿™ä¹ˆä¸“ä¸šã€‚',
		'3': 'A: ä»–åœ¨è°ˆåˆ¤æ–¹é¢å¾ˆæœ‰ç»éªŒã€‚\nB: æ˜¯çš„ï¼Œæ¯æ¬¡éƒ½èƒ½è¾¾æˆæ»¡æ„çš„ç»“æœã€‚',
		'4': 'A: ä½ åœ¨çƒ¹é¥ªæ–¹é¢å¾ˆæœ‰ç»éªŒå—ï¼Ÿ\nB: è¿˜å¥½ï¼Œå¹³æ—¶å–œæ¬¢è‡ªå·±åšé¥­ï¼Œç§¯ç´¯äº†ä¸€äº›ç»éªŒã€‚'
	},
	'9': {
		'1': 'A: ä¸ºä»€ä¹ˆé€‰ä»–ï¼Ÿ\nB: å› ä¸ºä»–å…·æœ‰å¾ˆå¼ºçš„é¢†å¯¼èƒ½åŠ›ã€‚\nA: è¿™ä¸ªé¡¹ç›®éœ€è¦å…·æœ‰å¾ˆå¼ºçš„åˆ›æ–°èƒ½åŠ›çš„äººã€‚',
		'2': 'A: ä»–å…·æœ‰å¾ˆå¼ºçš„æŠ—å‹èƒ½åŠ›ã€‚\nB: æ˜¯çš„ï¼Œé‡åˆ°å›°éš¾ä»ä¸é€€ç¼©ã€‚\nA: è¿™æ­£æ˜¯æˆ‘ä»¬å›¢é˜Ÿéœ€è¦çš„ã€‚',
		'3': 'A: è¿™ä¸ªå²—ä½éœ€è¦å…·æœ‰å¾ˆå¼ºçš„æ²Ÿé€šèƒ½åŠ›ã€‚\nB: æˆ‘è§‰å¾—å¥¹å®Œå…¨ç¬¦åˆè¦æ±‚ã€‚',
		'4': 'A: ä»–å…·æœ‰å¾ˆå¼ºçš„å­¦ä¹ èƒ½åŠ›ï¼Œå¾ˆå¿«å°±èƒ½ä¸Šæ‰‹ã€‚\nB: é‚£å¤ªå¥½äº†ï¼Œæˆ‘ä»¬å¯ä»¥æ”¾å¿ƒäº¤ç»™å¥¹ã€‚'
	},
	'10': {
		'1': 'A: è¿™ä¸ªæˆ¿é—´æ€ä¹ˆæ ·ï¼Ÿ\nB: è¿™ä¸ªæˆ¿é—´æ˜¯æ–°è£…ä¿®çš„ã€‚\nA: è¿™ä¸ªå†³å®šæ˜¯ç»è¿‡æ·±æ€ç†Ÿè™‘çš„ã€‚',
		'2': 'A: è¿™ä»¶è¡£æœæ˜¯çº¯æ£‰çš„ã€‚\nB: æ‘¸èµ·æ¥å¾ˆèˆ’æœã€‚\nA: æ˜¯çš„ï¼Œè€Œä¸”æ˜¯æ‰‹å·¥åˆ¶ä½œçš„ã€‚',
		'3': 'A: è¿™ä¸ªæ¶ˆæ¯æ˜¯çœŸçš„å—ï¼Ÿ\nB: æ˜¯çš„ï¼Œæ˜¯å®˜æ–¹å‘å¸ƒçš„ã€‚\nA: é‚£æˆ‘ä»¬å¾—èµ¶ç´§å‡†å¤‡ã€‚',
		'4': 'A: è¿™ä¸ªæ–¹æ¡ˆæ˜¯æˆ‘ä»¬å…±åŒåˆ¶å®šçš„ã€‚\nB: å¾ˆå¥½ï¼Œå¤§å®¶éƒ½è®¤å¯ã€‚'
	},
	'11': {
		'1': 'A: è¿™ä¸ªæ–¹æ¡ˆæ¯”ä¹‹å‰çš„å¥½å—ï¼Ÿ\nB: æ˜¯çš„ï¼Œè¿™ä¸ªæ–¹æ¡ˆæ¯”ä¹‹å‰çš„æ›´å…¨é¢ã€‚\nA: æ–°è®¾å¤‡æ¯”æ—§è®¾å¤‡æ›´é«˜æ•ˆã€‚',
		'2': 'A: è¿™æœ¬ä¹¦æ¯”æˆ‘æƒ³è±¡çš„æ›´æœ‰è¶£ã€‚\nB: æˆ‘ä¹Ÿè¿™ä¹ˆè§‰å¾—ï¼Œå†…å®¹å¾ˆç²¾å½©ã€‚\nA: æ¯”åŒç±»ä¹¦ç±æ›´å®ç”¨ã€‚',
		'3': 'A: ç°åœ¨çš„äº¤é€šæ¯”ä»¥å‰æ›´æ–¹ä¾¿äº†ã€‚\nB: æ˜¯çš„ï¼Œåœ°é“çº¿è·¯è¶Šæ¥è¶Šå¤šã€‚\nA: å‡ºè¡Œæ¯”ä»¥å‰èŠ‚çœäº†å¾ˆå¤šæ—¶é—´ã€‚',
		'4': 'A: è¿™ä¸ªæ–¹æ³•æ¯”ä¹‹å‰çš„æ›´ç®€å•ã€‚\nB: ç¡®å®ï¼Œæ“ä½œèµ·æ¥æ›´æ–¹ä¾¿ã€‚'
	},
	'12': {
		'1': 'A: ä¸ºä»€ä¹ˆä¸€å®šè¦è¿™æ ·åšï¼Ÿ\nB: æˆ‘ä»¬éå¾—æŒ‰è§„å®šæ‰§è¡Œä¸å¯ã€‚\nA: ä½ éå¾—ç°åœ¨èµ°å—ï¼Ÿ',
		'2': 'A: è¿™ä»¶äº‹éå¾—ä»Šå¤©å®Œæˆå—ï¼Ÿ\nB: æ˜¯çš„ï¼Œæ˜å¤©å°±æ¥ä¸åŠäº†ã€‚\nA: é‚£æˆ‘ä»¬å¾—æŠ“ç´§æ—¶é—´ã€‚',
		'3': 'A: ä»–éå¾—äº²è‡ªå»å—ï¼Ÿ\nB: æ˜¯çš„ï¼Œè¿™ä¸ªäº‹æƒ…åªæœ‰ä»–èƒ½å¤„ç†ã€‚',
		'4': 'A: ä½ éå¾—è¿™ä¹ˆå›ºæ‰§å—ï¼Ÿ\nB: ä¸æ˜¯å›ºæ‰§ï¼Œæ˜¯è¿™ä»¶äº‹å¿…é¡»è¿™ä¹ˆåšæ‰å¯¹ã€‚'
	},
	'13': {
		'1': 'A: æˆ‘ä»¬å‘¨æœ«åšä»€ä¹ˆï¼Ÿ\nB: è¦ä¸æˆ‘ä»¬å»çˆ¬å±±å§ã€‚\nA: è¦ä¸æˆ‘ä»¬å…ˆä¼‘æ¯ä¸€ä¸‹ï¼Ÿ',
		'2': 'A: ä»Šå¤©ä¸­åˆåƒä»€ä¹ˆï¼Ÿ\nB: è¦ä¸æˆ‘ä»¬å»åƒç«é”…å§ã€‚\nA: å¥½å‘€ï¼Œæˆ‘æ­£å¥½æƒ³åƒç«é”…äº†ã€‚',
		'3': 'A: è¿™ä¸ªé—®é¢˜æ€ä¹ˆè§£å†³ï¼Ÿ\nB: è¦ä¸æˆ‘ä»¬è¯·æ•™ä¸€ä¸‹è€å¸ˆï¼Ÿ\nA: è¿™ä¸ªä¸»æ„ä¸é”™ã€‚',
		'4': 'A: ä¸‹ç­ä¹‹åå»å“ªé‡Œï¼Ÿ\nB: è¦ä¸æˆ‘ä»¬å»çœ‹ç”µå½±å§ï¼Œæ–°ä¸Šæ˜ çš„é‚£éƒ¨ã€‚'
	},
	'14': {
		'1': 'A: è¿™ä»¶äº‹è·Ÿä½ æœ‰å…³ç³»å—ï¼Ÿ\nB: è·Ÿæˆ‘å…³ç³»ä¸å¤§ï¼Œæ˜¯ä»–ä»¬å†³å®šçš„ã€‚\nA: è¿™ä¸ªé—®é¢˜è·Ÿæˆ‘ä»¬ä»Šå¤©è®¨è®ºçš„ä¸»é¢˜å…³ç³»ä¸å¤§ã€‚',
		'2': 'A: è¿™ä¸ªé¡¹ç›®è·Ÿä½ ä¹‹å‰åšçš„å¾ˆåƒã€‚\nB: è¡¨é¢ä¸Šåƒï¼Œä½†æ ¸å¿ƒé€»è¾‘å…³ç³»ä¸å¤§ã€‚',
		'3': 'A: ä»–çš„æƒ³æ³•è·Ÿæˆ‘å…³ç³»ä¸å¤§ï¼Œæˆ‘æœ‰è‡ªå·±çš„è®¡åˆ’ã€‚\nB: å¯ä»¥å‚è€ƒä¸€ä¸‹ï¼Œè¯´ä¸å®šæœ‰å¸®åŠ©ã€‚',
		'4': 'A: è¿™ä¸ªç»“æœè·Ÿæˆ‘ä»¬é¢„æœŸçš„å…³ç³»ä¸å¤§ã€‚\nB: é‚£æˆ‘ä»¬å¾—é‡æ–°åˆ†æåŸå› ã€‚'
	}
};

// æ¥æ”¶å‚æ•°ï¼ˆæ–°å¢æ¥æ”¶ sentenceIdï¼‰
onLoad((options) => {
	type.value = options.type || '';
	id.value = options.id || '';
	name.value = decodeURIComponent(options.name) || '';
	sentenceId.value = options.sentenceId || '1'; // æ¥æ”¶é€‰ä¸­çš„ä¾‹å¥IDï¼Œé»˜è®¤1
	videoList.value = options.videos ? JSON.parse(decodeURIComponent(options.videos)) : [];
	
	// æ ¹æ®ç±»å‹å’ŒIDè·å–å¯¹åº”çš„å¯¹è¯å†…å®¹
	if (type.value === 'chunk') {
		// è¡¨è¾¾è¯­å—ï¼šç›´æ¥æŒ‰è¯­å—IDåŒ¹é…
		dialogueContent.value = chunkDialogueMap[id.value] || 'æš‚æ— ç›¸å…³å¯¹è¯å†…å®¹ã€‚å»ºè®®æ‚¨å¤ä¹ å­¦ä¹ è¿‡çš„å†…å®¹ï¼Œå°è¯•è‡ªå·±åˆ›å»ºå¯¹è¯åœºæ™¯è¿›è¡Œç»ƒä¹ ã€‚';
	} else if (type.value === 'sentence') {
		// å…ƒå¥å‹ï¼šæŒ‰ã€Œå¥å‹ID â†’ ä¾‹å¥IDã€åŒ¹é…
		dialogueContent.value = sentenceDialogueMap[id.value]?.[sentenceId.value] 
			|| `æš‚æ— ä¾‹å¥${sentenceId.value}çš„ç›¸å…³å¯¹è¯å†…å®¹ã€‚å»ºè®®æ‚¨å¤ä¹ å­¦ä¹ è¿‡çš„å¥å‹ï¼Œå°è¯•è‡ªå·±æ‰©å±•å¯¹è¯åœºæ™¯ã€‚`;
	} else {
		dialogueContent.value = 'æš‚æ— ç›¸å…³å¯¹è¯å†…å®¹ã€‚å»ºè®®æ‚¨å¤ä¹ å­¦ä¹ è¿‡çš„å†…å®¹ï¼Œå°è¯•è‡ªå·±åˆ›å»ºå¯¹è¯åœºæ™¯è¿›è¡Œç»ƒä¹ ã€‚';
	}
	
	// è®¾ç½®å½“å‰æ—¶é—´
	const now = new Date();
	const year = now.getFullYear();
	const month = String(now.getMonth() + 1).padStart(2, '0');
	const day = String(now.getDate()).padStart(2, '0');
	const hour = String(now.getHours()).padStart(2, '0');
	const minute = String(now.getMinutes()).padStart(2, '0');
	currentTime.value = `${year}-${month}-${day} ${hour}:${minute}`;
});

// è®¡ç®—å±æ€§
const contentType = computed(() => {
	return type.value === 'chunk' ? 'è¡¨è¾¾è¯­å—' : type.value === 'sentence' ? 'å…ƒå¥å‹å¥å¼' : 'å­¦ä¹ å†…å®¹';
});

const contentName = computed(() => {
	return name.value || 'æœªå‘½åå†…å®¹';
});


// è¿”å›ä¸Šä¸€é¡µ
const goBack = () => {
	uni.navigateBack({ delta: 2 });
};

// ç»§ç»­å­¦ä¹ ï¼ˆè¿”å›é¦–é¡µï¼‰
const continueLearning = () => {
	uni.navigateBack({ delta: 2 });
};
</script>

<style scoped>
.summary-container {
	min-height: 100vh;
	background-color: #f5f5f5;
}

/* é¡¶éƒ¨å¯¼èˆª */
.summary-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	padding: 16px;
	background-color: #ffffff;
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.back-btn {
	background: transparent;
	border: none;
	color: #333;
	font-size: 20px;
	padding: 5px;
}

.summary-title {
	flex: 1;
	font-size: 18px;
	text-align: center;
	margin: 0;
	color: #333;
}

.header-right {
	width: 30px;
}

/* å†…å®¹åŒºåŸŸ */
.summary-content {
	padding: 20px;
}

/* å¡ç‰‡æ ·å¼ */
.progress-card,
.content-card,
.tips-card {
	background-color: #ffffff;
	border-radius: 12px;
	padding: 20px;
	margin-bottom: 20px;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.progress-card h4,
.content-card h4,
.tips-card h4 {
	margin: 0 0 15px 0;
	font-size: 18px;
	color: #333;
}

/* è¿›åº¦ä¿¡æ¯ */
.progress-info p {
	margin: 8px 0;
	font-size: 15px;
	color: #666;
}

/* å¯¹è¯éƒ¨åˆ† */
.dialogue-section {
	margin-bottom: 15px;
	border-radius: 12px;
	overflow: hidden;
	background-color: #fafafa;
	border: 1px solid #e0e0e0;
}

.dialogue-section h5 {
	margin: 0;
	padding: 12px 15px;
	font-size: 16px;
	font-weight: 600;
	color: #333;
	background-color: #fff;
	border-bottom: 1px solid #e0e0e0;
}

.dialogue-content {
	padding: 15px;
	line-height: 1.8;
}

.dialogue-line {
	margin: 10px 0;
	font-size: 15px;
	color: #666;
}

.dialogue-role {
	max-width: 85%;
	word-wrap: break-word;
	padding: 12px 16px;
	margin: 10px 0;
	position: relative;
}

/* ç»§ç»­å­¦ä¹ æŒ‰é’® */
.continue-section {
	margin-top: 30px;
	display: flex;
	justify-content: center;
}

.continue-btn {
	padding: 14px 60px;
	background-color: #42b983;
	color: white;
	border: none;
	border-radius: 25px;
	font-size: 17px;
	font-weight: bold;
	cursor: pointer;
}

.continue-btn:active {
	background-color: #3aa876;
	transform: scale(0.98);
}

/* å›¾æ ‡ */
.icon-arrow-left::before {
	content: "â†";
}
</style>